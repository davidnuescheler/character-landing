{"version":3,"sources":["plain_html.pre.js"],"names":["jquery","require","pre","context","document","content","$","defaultView","currentCollection","sections","body","childNodes","forEach","child","tagName","push","el","wrapAll","querySelectorAll","parentNode","removeChild","module","exports"],"mappings":"AAAA;;;;;;;;;;;AAWA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;AAEA;;;;;;;AAKA,SAASC,GAAT,CAAaC,OAAb,EAAsB;AACpB,QAAM;AAAEC,IAAAA;AAAF,MAAeD,OAAO,CAACE,OAA7B;AACA,QAAMC,CAAC,GAAGN,MAAM,CAACI,QAAQ,CAACG,WAAV,CAAhB;AAEA;;AACA,MAAIC,iBAAiB,GAAG,EAAxB;AACA,QAAMC,QAAQ,GAAG,EAAjB;AAEAL,EAAAA,QAAQ,CAACM,IAAT,CAAcC,UAAd,CAAyBC,OAAzB,CAAkCC,KAAD,IAAW;AAC1C,QAAIA,KAAK,CAACC,OAAN,KAAkB,IAAtB,EAA4B;AAC1BL,MAAAA,QAAQ,CAACM,IAAT,CAAcP,iBAAd;AACAA,MAAAA,iBAAiB,GAAG,EAApB;AACD,KAHD,MAGO;AACLA,MAAAA,iBAAiB,CAACO,IAAlB,CAAuBF,KAAvB;AACD;AACF,GAPD;AASAJ,EAAAA,QAAQ,CAACM,IAAT,CAAcP,iBAAd;AACAC,EAAAA,QAAQ,CAACG,OAAT,CAAkBI,EAAD,IAAQ;AACvBV,IAAAA,CAAC,CAACU,EAAD,CAAD,CAAMC,OAAN,CAAc,6BAAd;AACD,GAFD;AAIAb,EAAAA,QAAQ,CAACc,gBAAT,CAA0B,SAA1B,EAAqCN,OAArC,CAA8CI,EAAD,IAAQ;AACnDA,IAAAA,EAAE,CAACG,UAAH,CAAcC,WAAd,CAA0BJ,EAA1B;AACD,GAFD;AAGA;AACD;;AAEDK,MAAM,CAACC,OAAP,CAAepB,GAAf,GAAqBA,GAArB","file":"plain_html.pre.js","sourceRoot":"../pages/master/src","sourcesContent":["/*\n * Copyright 2019 Adobe. All rights reserved.\n * This file is licensed to you under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License. You may obtain a copy\n * of the License at http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software distributed under\n * the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR REPRESENTATIONS\n * OF ANY KIND, either express or implied. See the License for the specific language\n * governing permissions and limitations under the License.\n */\nconst jquery = require('jquery');\n\n/**\n * The 'pre' function that is executed before the HTML is rendered\n * @param context The current context of processing pipeline\n * @param context.content The content\n */\nfunction pre(context) {\n  const { document } = context.content;\n  const $ = jquery(document.defaultView);\n\n  /* workaround until sections in document are fixed via PR on pipeline */\n  let currentCollection = [];\n  const sections = [];\n\n  document.body.childNodes.forEach((child) => {\n    if (child.tagName === 'HR') {\n      sections.push(currentCollection);\n      currentCollection = [];\n    } else {\n      currentCollection.push(child);\n    }\n  });\n\n  sections.push(currentCollection);\n  sections.forEach((el) => {\n    $(el).wrapAll('<div class=\"section\"></div>');\n  });\n\n  document.querySelectorAll('body>hr').forEach((el) => {\n    el.parentNode.removeChild(el);\n  });\n  /* end of workaround */\n}\n\nmodule.exports.pre = pre;\n"]}